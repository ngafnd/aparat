<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>ngafnd - خرید رنک</title>
<style>
body { font-family:sans-serif; background:#f2f2f2; margin:0; padding:0; direction:rtl; }
header { background:#222; color:white; padding:10px 20px; font-size:24px; display:flex; justify-content:space-between; align-items:center; }
header .left { display:flex; gap:10px; }
header a { color:white; text-decoration:none; padding:8px 12px; border-radius:5px; }
header a.support-btn { background:#28a745; }
header a.streamer-btn { background:#ff9800; }
.container { max-width:1000px; margin:auto; padding:20px; }
.rank { display:inline-block; background:white; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.2); padding:15px; margin:10px; width:180px; vertical-align:top; text-align:center; }
.rank h3 { margin:10px 0; }
.rank a { display:block; margin-top:10px; background:#28a745; color:white; text-decoration:none; padding:8px; border-radius:5px; }
.rank a:hover { background:#1e7e34; }
.hidden { display:none; }

/* دکمه بازگشت */
.back-btn {
    background:#ff9800;
    color:white;
    border:none;
    border-radius:5px;
    padding:8px 12px;
    cursor:pointer;
    font-size:14px;
}
.back-btn:hover { background:#e68900; }

/* بخش چت */
.chat-box {
    background:pink;
    border-radius:10px;
    padding:10px;
    width:300px;
    float:left;
    margin-left:20px;
}
.messages {
    height:200px;
    overflow-y:auto;
    background:white;
    border-radius:5px;
    padding:5px;
    margin-bottom:10px;
}
.messages p { margin:5px 0; padding:5px; border-radius:5px; }
.admin { background:lightblue; }
.owner { background:gold; }
input, button { padding:8px; border-radius:5px; border:1px solid #ccc; }
</style>
</head>
<body>

<header>
    <div class="left">
        <a class="support-btn" href="https://reymit.ir/kiyagamer13903" target="_blank">💖 حمایت</a>
        <a class="streamer-btn" href="#streamers">🎥 لیست استریمرها</a>
    </div>
    ngafnd
    <button onclick="openModal()">ثبت‌نام / ورود</button>
</header>

<div id="main-section" class="container">
    <h2>خرید رنک</h2>
    <div class="rank"><h3>Iron - 10,000 تومان</h3><a href="#">خرید</a></div>
    <div class="rank"><h3>Gold - 25,000 تومان</h3><a href="#">خرید</a></div>
    <div class="rank"><h3>Diamond - 40,000 تومان</h3><a href="#">خرید</a></div>
    <div class="rank"><h3>Emerald - 57,000 تومان</h3><a href="#">خرید</a></div>
    <div class="rank"><h3>Ngafnd - 63,000 تومان</h3><a href="#">خرید</a></div>
    <div class="rank"><h3>Sponsor - 73,000 تومان</h3><a href="#">خرید</a></div>
    <div class="rank"><h3>Admin - 150,000 تومان</h3><a href="#">خرید</a></div>
</div>

<!-- بخش استریمرها -->
<div id="streamers" class="container hidden">
    <button class="back-btn" onclick="goBack()">⬅ بازگشت</button>
    <h2>لیست استریمرها</h2>
    <img src="streamer1.jpg" alt="استریمر 1" style="width:200px; margin:10px;">
    <img src="streamer2.jpg" alt="استریمر 2" style="width:200px; margin:10px;">

    <!-- بخش چت با مدیریت -->
    <div class="chat-box">
        <h3>💬 صحبت با مدیریت</h3>
        <div class="messages" id="chatMessages"></div>
        <input type="text" id="chatInput" placeholder="پیام خود را بنویسید">
        <button onclick="sendMessage()">ارسال</button>
    </div>
</div>

<!-- Modal ثبت‌نام / ورود -->
<div id="authModal" class="modal hidden" style="background:rgba(0,0,0,0.6); position:fixed; top:0; left:0; width:100%; height:100%; display:none;">
    <div style="background:white; padding:20px; border-radius:10px; width:300px; margin:10% auto;">
        <h2>ثبت‌نام</h2>
        <input type="text" id="regName" placeholder="نام کاربری">
        <input type="password" id="regPass" placeholder="رمز عبور">
        <button onclick="register()">ثبت‌نام</button>
        <h2>ورود</h2>
        <input type="text" id="loginName" placeholder="نام کاربری">
        <input type="password" id="loginPass" placeholder="رمز عبور">
        <button onclick="login()">ورود</button>
        <button style="background:red; color:white;" onclick="closeModal()">بستن</button>
    </div>
</div>

<script>
// لیست ادمین‌ها و مالک
const ADMINS = ["mod1", "adminuser"];
const OWNER = "owneruser";
let currentUser = null;

function openModal() {
    document.getElementById('authModal').style.display = 'block';
}
function closeModal() {
    document.getElementById('authModal').style.display = 'none';
}
function register() {
    const name = document.getElementById('regName').value.trim();
    const pass = document.getElementById('regPass').value.trim();
    if(!name || !pass){
        alert('لطفا همه فیلدها را پر کنید');
        return;
    }
    if(localStorage.getItem("user_"+name)){
        alert('این نام کاربری قبلا ثبت شده است');
        return;
    }
    const userData = {name, pass};
    localStorage.setItem("user_"+name, JSON.stringify(userData));
    alert('ثبت‌نام موفقیت‌آمیز بود، حالا وارد شوید.');
}
function login() {
    const name = document.getElementById('loginName').value.trim();
    const pass = document.getElementById('loginPass').value.trim();
    const dataStr = localStorage.getItem("user_"+name);
    if(!dataStr){
        alert('کاربری با این نام یافت نشد');
        return;
    }
    const data = JSON.parse(dataStr);
    if(data.pass===pass){
        currentUser = name;
        closeModal();
        alert('خوش آمدید '+name);
    } else {
        alert('رمز عبور اشتباه است');
    }
}

function sendMessage(){
    if(!currentUser){
        alert('ابتدا وارد شوید');
        return;
    }
    const msg = document.getElementById('chatInput').value.trim();
    if(!msg) return;

    const msgElem = document.createElement('p');
    if(currentUser === OWNER){
        msgElem.className = 'owner';
        msgElem.textContent = currentUser + " 👑: " + msg;
    } else if(ADMINS.includes(currentUser)){
        msgElem.className = 'admin';
        msgElem.textContent = currentUser + " 🛡️: " + msg;
    } else {
        msgElem.textContent = currentUser + ": " + msg;
    }
    document.getElementById('chatMessages').appendChild(msgElem);
    document.getElementById('chatInput').value = '';
}

// رفتن به بخش استریمرها
document.querySelector('.streamer-btn').addEventListener('click', function(){
    document.getElementById('main-section').classList.add('hidden');
    document.getElementById('streamers').classList.remove('hidden');
});

// بازگشت به صفحه اصلی
function goBack(){
    document.getElementById('streamers').classList.add('hidden');
    document.getElementById('main-section').classList.remove('hidden');
}
</script>

</body>
</html>
